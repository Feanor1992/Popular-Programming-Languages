# Popular-Programming-Languages

## Overview ##

This code creates a comprehensive interactive dashboard using the `Dash` framework. The dashboard is designed to analyze the popularity of various programming languages over time, provide different visualizations of the data, and generate forecasts using `Prophet`. The dashboard includes several key components such as filtering options, multiple graph types (line charts, stacked area charts, scatter plots, bar charts, and correlation heatmaps), anomaly detection, and a data table for raw data inspection.

## Key Components ##
1. **Libraries and Dependencies**
    - ***Pandas and NumPy:*** Used for data manipulation and numerical operations.
    - ***Dash Components:***
        - `Dash`, `dcc`, and `html` are used for building the web application layout and handling interactivity.
        - `Input` and `Output` from Dash enable reactive callbacks.
    - ***Dash Ag-Grid:*** Used to create an interactive data table that displays raw data with filtering and sorting capabilities.
    - ***Plotly Express and Plotly Graph Objects:*** Employed to create various types of visualizations with a dark-themed style.
    - ***Prophet:*** A forecasting library used to predict future trends based on historical data.
2. **Global Styling**
    - The `STYLES` dictionary contains a set of common styling parameters (such as colors, margins, widths, and borders) used throughout the dashboard. This ensures consistency in appearance across all components.
3. **Data Processing Functions**

The code defines several helper functions to clean and transform the data:
- ***fill_missing_values(df, strategy):*** Fills missing values in the DataFrame using one of three strategies—linear interpolation, median fill, or zero fill.
- ***check_anomalies(df, cols, threshold):*** Computes the z-score for specified columns and identifies indices where the absolute z-score exceeds a set threshold, flagging potential anomalies.
- ***calculate_moving_average(df, cols, window):*** Calculates the moving average for each specified column using a rolling window. The parameter `min_periods=1` ensures that the calculation is performed even if fewer than the window’s worth of data is available, thereby filling the beginning of the series.
- ***calculate_monthly_diff(df, cols):*** Computes the month-over-month difference for the specified columns. Similar to the moving average, the use of `.diff()` ensures that the early values are computed based on the available data.
- ***calculate_yoy(df, cols):*** Computes the year-over-year (YoY) percentage change for each specified column. If the value from 12 months prior is zero, the function sets the YoY change to zero to avoid division by zero errors.

4. **Data Loading and Preprocessing**
- The `Date` column is converted to a datetime object.
- Missing values are filled using the chosen strategy (in this case, linear interpolation).
- The code defines a list of programming language columns to focus on.
- Anomalies are detected for these columns using the `check_anomalies` function.
- Additional features are computed:
    - Moving averages for smoothing the data.
    - Month-over-month differences.
    - Year-over-year changes.
- A new column, `sum_all_langs`, is created to store the total popularity value across all languages.
- The share of the total popularity for each language is calculated in one step using a dictionary and then concatenated with the original DataFrame to avoid performance issues.

5. **Common Graph Layout**
- The function `get_common_layout(title)` centralizes the configuration of graph layouts. It sets the dark template, title, hover mode, and axis titles, ensuring that all graphs share a consistent look and feel.

6. **Layout Creation Functions**

The dashboard’s layout is modularized into separate functions for clarity and reusability:
- ***create_filters():*** Constructs a filter section that includes a multi-select dropdown for choosing programming languages and a date range picker.
- ***create_graphs():*** Builds the main visualizations, which include:
    - A multi-line chart for displaying the popularity trends of selected languages.
    - A stacked area chart to show each language’s share of the total popularity.
    - A scatter plot for year-over-year percentage changes.
    - A bar chart for displaying the popularity data for the latest date in the selected range.
    - A correlation heatmap to visualize relationships among the selected languages.
- ***create_forecast_section():*** Creates a section dedicated to forecasting. It includes a dropdown for selecting a language to forecast, a slider to choose the forecast horizon (in months), and a graph to display the forecast results generated by `Prophet`.
- ***create_anomalies_display():*** Generates a display section for any anomalies detected in the dataset, listing each anomaly in a separate HTML element.
- ***create_data_table():*** Creates an interactive data table using `Dash Ag-Grid`, which allows the user to inspect the raw data with features like pagination, filtering, and sorting.

7. **Application Layout**
- The overall application layout is defined by combining all the layout creation functions into a single Dash HTML Div. The layout includes a title, the filters, the various graph sections, the forecasting section, the anomaly display, and the raw data table.

8. **Callbacks**

The interactivity of the dashboard is managed by several callback functions:
- ***update_charts():*** This callback updates all the main graphs when the user changes the selected languages or date range. It includes logic to handle empty data, cases where all selected languages have zero values, and builds each graph (multi-line, stacked area, scatter, bar, and heatmap) with consistent styling.
- ***display_hover_data():*** A simple callback that displays detailed information about data points on the multi-line chart when the user hovers over them.
- ***update_forecast():*** This callback handles the forecasting functionality. It filters the data based on the selected date range and language, renames columns as needed for `Prophet`, drops any remaining missing values, and checks that there are at least 24 data points (a requirement for yearly seasonality). It then fits the `Prophet` model, generates future forecasts, and builds a forecast graph with actual data, forecasted values, and confidence intervals. Duplicate keyword arguments in the layout update were removed to fix a TypeError.

9. **Running the Application**

Finally, the app is launched by calling `app.run_server(debug=True)` if the script is executed as the main module.
